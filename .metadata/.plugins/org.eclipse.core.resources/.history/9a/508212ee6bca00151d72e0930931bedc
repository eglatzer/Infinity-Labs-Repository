package com.ilad.memadmin;

import java.util.Date;

public class MemAdmin {
	private final int SIZE;
	private int[] arrayOfVals;
	private Date[] arrayOfTimes;
	
	// Constructor
	public MemAdmin(int size) throws Exception {
		if(0 >= size) {
			throw new Exception("The memory size should be bigger than 0");
		}
		
		SIZE = size;
		arrayOfVals = new int[SIZE + 1];
		arrayOfTimes = new Date[SIZE + 1];
	}
	
	public void setVal(int index, int val) throws Exception {
		if(SIZE <= index) {
			throw new Exception("Out of bounds!");
		}
		arrayOfTimes[index] = new Date();
		arrayOfVals[index] = val;
	}
	
	public void setAll(int val) {
		arrayOfTimes[SIZE] = new Date();
		arrayOfVals[SIZE] = val;
	}
	
	public int getVal(int index) throws Exception {
		if(SIZE <= index) {
			throw new Exception("Out of bounds!");
		}
		int val = (0 < arrayOfTimes[index].compareTo(arrayOfTimes[SIZE]) ?
				arrayOfVals[index] : arrayOfVals[SIZE]);
		return val;
	}
}
